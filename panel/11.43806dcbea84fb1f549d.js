(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{UrMc:function(t,e,a){"use strict";a.r(e),a.d(e,"CompanyModule",function(){return Z});var o=a("ofXK"),i=a("NA4g"),n=a("s7LF"),c=a("tyNb"),r=a("5QHs"),l=a("LUZP"),m=a("OaSA"),b=a("iELJ"),s=a("fXoL"),d=a("kA0x"),u=a("lvt7"),p=a("Q2Ze"),f=a("e6WT"),h=a("Dxy4");function g(t,e){1&t&&(s.Sb(0,"mat-error"),s.zc(1,"Introduce un nombre por favor"),s.Rb())}function y(t,e){1&t&&(s.Sb(0,"mat-error"),s.zc(1,"Introduce una url por favor"),s.Rb())}function S(t,e){1&t&&(s.Sb(0,"mat-form-field",4),s.Sb(1,"mat-label"),s.zc(2),s.Rb(),s.Nb(3,"input",12),s.Rb()),2&t&&(s.dc(),s.Bb(2),s.Ac("Api key"))}let v=(()=>{class t{constructor(t,e,a,o,i){this.dialogRef=t,this.data=e,this.companySvc=a,this.formB=o,this.notiSvc=i,this.buildForm()}ngOnInit(){var t;(null===(t=this.data)||void 0===t?void 0:t.element)&&this.companyForm.patchValue(this.data.element)}submitCompany(){var t;this.companyForm.invalid?this.notiSvc.openSnackBar("Algunos de los campos son invalidos",3e3):(this.setCompany(),(null===(t=this.data)||void 0===t?void 0:t.element)?this.companySvc.updateCompany(this.companyData).subscribe(t=>{console.log(t),this.notiSvc.openSnackBar("Meme "+this.companyData.name+" actualizada correctamente",2e3),this.dialogRef.close()},t=>{console.log(t)}):this.companySvc.createCompanie(this.companyData).subscribe(t=>{console.log(t),this.notiSvc.openSnackBar("Meme agregado correctamente",2e3),this.dialogRef.close()},t=>{console.log(t)}))}setCompany(){var t,e,a,o;this.companyData=Object.assign(Object.assign({},this.companyForm.value),{id:(null===(t=this.data)||void 0===t?void 0:t.element)?null===(e=this.data)||void 0===e?void 0:e.element.id:null,api_key:(null===(a=this.data)||void 0===a?void 0:a.element)?null===(o=this.companyForm.get("api_key"))||void 0===o?void 0:o.value:null})}buildForm(){this.companyForm=this.formB.group({name:["",n.o.required],url:["",n.o.required],api_key:[""]})}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(b.g),s.Mb(b.a),s.Mb(d.a),s.Mb(n.d),s.Mb(u.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-company-dialog"]],decls:23,vars:8,consts:[[1,"container-md"],["mat-dialog-title",""],[1,"mat-typography"],["autocomplete","off",1,"example-form",3,"formGroup"],["appearance","outline",1,"example-full-width"],["matInput","","placeholder","Ex. Liverpool","formControlName","name","required",""],[4,"ngIf"],["matInput","","placeholder","Ex. Liverpool","formControlName","url","required",""],["class","example-full-width","appearance","outline",4,"ngIf"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","accent","type","submit",3,"click"],["matInput","","placeholder","","formControlName","api_key","required",""]],template:function(t,e){1&t&&(s.Sb(0,"div",0),s.Sb(1,"h1",1),s.zc(2),s.Rb(),s.Sb(3,"mat-dialog-content",2),s.Sb(4,"form",3),s.Sb(5,"mat-form-field",4),s.Sb(6,"mat-label"),s.zc(7),s.Rb(),s.Nb(8,"input",5),s.yc(9,g,2,0,"mat-error",6),s.Rb(),s.Nb(10,"p"),s.Sb(11,"mat-form-field",4),s.Sb(12,"mat-label"),s.zc(13),s.Rb(),s.Nb(14,"input",7),s.yc(15,y,2,0,"mat-error",6),s.Rb(),s.Nb(16,"p"),s.yc(17,S,4,1,"mat-form-field",8),s.Rb(),s.Rb(),s.Sb(18,"mat-dialog-actions",9),s.Sb(19,"button",10),s.zc(20,"Cancelar"),s.Rb(),s.Sb(21,"button",11),s.Zb("click",function(){return e.submitCompany()}),s.zc(22),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.Bb(2),s.Ac(e.data.edit?"Editar meme":"Agregar meme"),s.Bb(2),s.ic("formGroup",e.companyForm),s.Bb(3),s.Ac(e.data.edit?"Editar meme":"Nombre"),s.Bb(2),s.ic("ngIf",e.companyForm.controls.name.invalid),s.Bb(4),s.Ac(e.data.edit?"Editar url":"Url"),s.Bb(2),s.ic("ngIf",e.companyForm.controls.url.invalid),s.Bb(2),s.ic("ngIf",e.data.edit),s.Bb(5),s.Ac(e.data.edit?"Editar Meme":"Agregar Url"))},directives:[b.h,b.e,n.p,n.k,n.f,p.c,p.f,f.b,n.b,n.j,n.e,n.n,o.l,b.c,h.a,b.d,p.b],styles:[""]}),t})();function R(t,e){1&t&&(s.Sb(0,"mat-error"),s.zc(1,"Introduzca su token por favor"),s.Rb())}let C=(()=>{class t{constructor(t,e,a,o,i){this.dialogRef=t,this.data=e,this.companySvc=a,this.formB=o,this.notiSvc=i,this.buildForm()}ngOnInit(){console.log("Data",this.data.meme)}deleteMeme(){var t;this.setKey(),this.companySvc.deleteMeme(null===(t=this.data.meme)||void 0===t?void 0:t.id,this.tokenData).subscribe(t=>{console.log(t),this.notiSvc.openSnackBar("Meme eliminado",2e3),this.dialogRef.close()},t=>{console.log(t)})}setKey(){var t;this.tokenData={api_key:null===(t=this.companyForm.get("api_key"))||void 0===t?void 0:t.value}}buildForm(){this.companyForm=this.formB.group({api_key:["",n.o.required]})}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(b.g),s.Mb(b.a),s.Mb(d.a),s.Mb(n.d),s.Mb(u.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-company-dialog"]],decls:16,vars:2,consts:[[1,"container-md"],["mat-dialog-title",""],[1,"mat-typography"],["autocomplete","off",1,"example-form",3,"formGroup"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","api_key","required",""],[4,"ngIf"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","accent","type","submit",3,"click"]],template:function(t,e){1&t&&(s.Sb(0,"div",0),s.Sb(1,"h1",1),s.zc(2,"Confirmacion"),s.Rb(),s.Sb(3,"mat-dialog-content",2),s.Sb(4,"form",3),s.Sb(5,"mat-form-field",4),s.Sb(6,"mat-label"),s.zc(7,"Introduzca el token para continuar"),s.Rb(),s.Nb(8,"input",5),s.yc(9,R,2,0,"mat-error",6),s.Rb(),s.Nb(10,"p"),s.Rb(),s.Rb(),s.Sb(11,"mat-dialog-actions",7),s.Sb(12,"button",8),s.zc(13,"Cancelar"),s.Rb(),s.Sb(14,"button",9),s.Zb("click",function(){return e.deleteMeme()}),s.zc(15,"Eliminar registro"),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.Bb(4),s.ic("formGroup",e.companyForm),s.Bb(5),s.ic("ngIf",e.companyForm.controls.api_key.invalid))},directives:[b.h,b.e,n.p,n.k,n.f,p.c,p.f,f.b,n.b,n.j,n.e,n.n,o.l,b.c,h.a,b.d,p.b],styles:[""]}),t})();var w=a("Tj54");function M(t,e){1&t&&(s.Sb(0,"th",20),s.zc(1," ID "),s.Rb())}function k(t,e){if(1&t&&(s.Sb(0,"td",21),s.zc(1),s.Rb()),2&t){const t=e.$implicit;s.Bb(1),s.Bc(" ",t.id," ")}}function z(t,e){1&t&&(s.Sb(0,"th",20),s.zc(1," Nombre "),s.Rb())}function B(t,e){if(1&t&&(s.Sb(0,"td",21),s.zc(1),s.Rb()),2&t){const t=e.$implicit;s.Bb(1),s.Bc(" ",t.name," ")}}function D(t,e){1&t&&(s.Sb(0,"th",20),s.zc(1," Activo "),s.Rb())}const I=function(t){return{color:t}};function F(t,e){if(1&t&&(s.Sb(0,"td",21),s.Sb(1,"button",22),s.Sb(2,"mat-icon",23),s.zc(3,"circle"),s.Rb(),s.Rb(),s.Rb()),2&t){const t=e.$implicit;s.Bb(2),s.ic("ngStyle",s.lc(1,I,1==t.active?"green":"red"))}}function N(t,e){1&t&&(s.Sb(0,"th",24),s.zc(1," Editar "),s.Rb())}function _(t,e){if(1&t){const t=s.Tb();s.Sb(0,"td",25),s.Sb(1,"button",26),s.Zb("click",function(){s.qc(t);const a=e.$implicit;return s.dc().openDialog(!0,a)}),s.Sb(2,"mat-icon"),s.zc(3,"edit"),s.Rb(),s.Rb(),s.Rb()}}function x(t,e){1&t&&(s.Sb(0,"th",24),s.zc(1," Eliminar "),s.Rb())}function O(t,e){if(1&t){const t=s.Tb();s.Sb(0,"td",25),s.Sb(1,"button",26),s.Zb("click",function(){s.qc(t);const a=e.$implicit;return s.dc().deleteMeme(a)}),s.Sb(2,"mat-icon"),s.zc(3,"delete"),s.Rb(),s.Rb(),s.Rb()}}function P(t,e){1&t&&s.Nb(0,"tr",27)}function A(t,e){1&t&&s.Nb(0,"tr",28)}function E(t,e){1&t&&(s.Sb(0,"tr",29),s.Sb(1,"td",30),s.zc(2,"Sin datos que mostrar"),s.Rb(),s.Rb())}const q=function(){return[5,10,25,100]},j=[{path:"",component:(()=>{class t{constructor(t,e,a){this.companySvc=t,this.dialog=e,this.notiSvc=a,this.displayedColumns=["id","nombre","active","edit","delete"],this.companys=[]}ngOnInit(){this.getMemes()}openDialog(t,e){this.dialog.open(v,{disableClose:!1,data:{edit:t,element:e}}).afterClosed().subscribe(t=>{t||this.getMemes()})}deleteMeme(t){console.log("meme",t),this.dialog.open(C,{disableClose:!1,data:{meme:t}}).afterClosed().subscribe(t=>{t||this.getMemes()})}getMemes(){this.companySvc.showCompanies().subscribe(t=>{this.companys=t.data,this.setData()})}setData(){this.dataSource=new m.l,this.dataSource.data=this.companys,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(d.a),s.Mb(b.b),s.Mb(u.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-company"]],viewQuery:function(t,e){if(1&t&&(s.Cc(r.a,!0),s.Cc(l.a,!0)),2&t){let t;s.nc(t=s.ac())&&(e.paginator=t.first),s.nc(t=s.ac())&&(e.sort=t.first)}},decls:32,vars:5,consts:[[1,"mat-elevation-z8","container",2,"margin-top","3%"],["mat-raised-button","","color","primary",1,"leftme",2,"margin-top","10px","margin-left","10px",3,"click"],[1,"right"],["matInput","","placeholder","Ej. Cimaco",3,"keyup"],["input",""],["matSuffix",""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","active"],["matColumnDef","edit"],["mat-header-cell","","class","edit",4,"matHeaderCellDef"],["mat-cell","","class","edit",4,"matCellDef"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","","color","warn","aria-label","Example icon button with a heart icon"],[3,"ngStyle"],["mat-header-cell","",1,"edit"],["mat-cell","",1,"edit"],["mat-icon-button","","color","accent","aria-label","Example icon button with a heart icon",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(s.Sb(0,"div",0),s.Sb(1,"div"),s.Sb(2,"button",1),s.Zb("click",function(){return e.openDialog(!1)}),s.zc(3,"Agregar Meme"),s.Rb(),s.Sb(4,"mat-form-field",2),s.Sb(5,"mat-label"),s.zc(6,"Buscar"),s.Rb(),s.Sb(7,"input",3,4),s.Zb("keyup",function(t){return e.applyFilter(t)}),s.Rb(),s.Sb(9,"mat-icon",5),s.zc(10,"search"),s.Rb(),s.Rb(),s.Rb(),s.Sb(11,"div"),s.Sb(12,"table",6),s.Qb(13,7),s.yc(14,M,2,0,"th",8),s.yc(15,k,2,1,"td",9),s.Pb(),s.Qb(16,10),s.yc(17,z,2,0,"th",8),s.yc(18,B,2,1,"td",9),s.Pb(),s.Qb(19,11),s.yc(20,D,2,0,"th",8),s.yc(21,F,4,3,"td",9),s.Pb(),s.Qb(22,12),s.yc(23,N,2,0,"th",13),s.yc(24,_,4,0,"td",14),s.Pb(),s.Qb(25,15),s.yc(26,x,2,0,"th",13),s.yc(27,O,4,0,"td",14),s.Pb(),s.yc(28,P,1,0,"tr",16),s.yc(29,A,1,0,"tr",17),s.yc(30,E,3,0,"tr",18),s.Rb(),s.Nb(31,"mat-paginator",19),s.Rb(),s.Rb()),2&t&&(s.Bb(12),s.ic("dataSource",e.dataSource),s.Bb(16),s.ic("matHeaderRowDef",e.displayedColumns),s.Bb(1),s.ic("matRowDefColumns",e.displayedColumns),s.Bb(2),s.ic("pageSizeOptions",s.kc(4,q)))},directives:[h.a,p.c,p.f,f.b,w.a,p.g,m.k,l.a,m.c,m.e,m.b,m.g,m.j,m.h,r.a,m.d,l.b,m.a,o.m,m.f,m.i],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}.edit[_ngcontent-%COMP%]{width:10%}.container[_ngcontent-%COMP%]{width:80%;margin:0 auto}.right[_ngcontent-%COMP%]{float:right;max-width:30%;padding-right:15px}.green[_ngcontent-%COMP%]{color:green}.mat-row[_ngcontent-%COMP%]:hover{background-color:#eceeed}"]}),t})()}];let Q=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(e){return new(e||t)},imports:[[c.b.forChild(j)],c.b]}),t})(),Z=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(e){return new(e||t)},imports:[[o.c,Q,i.a,n.m]]}),t})()}}]);