(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{XT82:function(t,e,o){"use strict";o.r(e),o.d(e,"ConfirmCodeModule",function(){return v});var i=o("ofXK"),n=o("tyNb"),r=o("s7LF"),a=o("AytR"),l=o("fXoL"),s=o("/JoM"),c=o("lvt7"),m=o("K6ql"),d=o("Q2Ze"),g=o("e6WT"),u=o("Dxy4");function f(t,e){1&t&&(l.Sb(0,"mat-error"),l.zc(1,"Este campo es obligatorio"),l.Rb())}const p=[{path:"",component:(()=>{class t{constructor(t,e,o,i,n){this.authService=t,this.router=e,this.formB=o,this.notiSvc=i,this.dataSvc=n,this.hide=!0,this.buildForm(),this.router.getCurrentNavigation().extras.state&&(this.password=this.router.getCurrentNavigation().extras.state.password,console.log(this.router.getCurrentNavigation().extras.state.password))}ngOnInit(){var t=localStorage.getItem("user");this.user=JSON.parse(t),console.log(this.user)}ngOnDestroy(){localStorage.removeItem("user"),this.dataSvc.onRemoveCookie("user")}logIn(){this.logInForm.invalid?this.notiSvc.openSnackBar("Introducir el codigo por favor",2e3):(this.setAuthData(),this.authService.onVerificate(this.userData).subscribe(t=>{1==t.data.user.role_id&&null!=t.data.accessToken?(this.router.navigate(["panel/empresas"]),localStorage.setItem(a.a.USER2,JSON.stringify(t.data.user)),localStorage.getItem("user2")):this.router.navigate(["auth/login"])},t=>{console.log(t),this.notiSvc.openSnackBar("Credenciales Incorrectas",2e3)}))}register(){this.router.navigate(["auth/login"])}buildForm(){this.logInForm=this.formB.group({login_token:["",r.p.required]})}setAuthData(){var t;this.userData={email:this.user.email,password:this.password,login_token:null===(t=this.logInForm.get("login_token"))||void 0===t?void 0:t.value,is_vpn:!0}}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(s.a),l.Mb(n.a),l.Mb(r.d),l.Mb(c.a),l.Mb(m.a))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-login"]],decls:18,vars:2,consts:[[1,"footer"],[1,"container","mat-elevation-z8"],["autocomplete","off",3,"formGroup"],[1,"form-container"],[1,"imagen"],[1,"mat-title",2,"text-align","center"],["appearance","outline","color","accent"],["matInput","","placeholder","","formControlName","login_token","required",""],[4,"ngIf"],["mat-raised-button","","color","primary","type","submit",3,"click"],[1,"paddingTop"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"form",2),l.Sb(3,"div",3),l.Nb(4,"div",4),l.Sb(5,"div",5),l.zc(6,"Introduce el codigo de verificacion"),l.Rb(),l.Sb(7,"div",4),l.Sb(8,"mat-form-field",6),l.Sb(9,"mat-label"),l.zc(10,"Codigo"),l.Rb(),l.Nb(11,"input",7),l.yc(12,f,2,0,"mat-error",8),l.Rb(),l.Nb(13,"p"),l.Nb(14,"p"),l.Sb(15,"button",9),l.Zb("click",function(){return e.logIn()}),l.zc(16,"Verificar Codigo"),l.Rb(),l.Nb(17,"div",10),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.Bb(2),l.ic("formGroup",e.logInForm),l.Bb(10),l.ic("ngIf",e.logInForm.controls.login_token.invalid))},directives:[r.q,r.l,r.f,d.c,d.f,g.b,r.b,r.k,r.e,r.o,i.l,u.a,d.b],styles:[".mat-form-field[_ngcontent-%COMP%]{display:inline;margin-bottom:3em;padding-top:10px;flex-direction:column;align-items:flex-start}.mat-raised-button[_ngcontent-%COMP%]{width:100%;height:40px;font-size:large}.form-container[_ngcontent-%COMP%]{width:95%;max-width:350px}.paddingTop[_ngcontent-%COMP%]{margin:20px}.container[_ngcontent-%COMP%]{background-color:#fff;margin-top:4em;margin-left:auto;margin-right:auto;height:30em;width:75%;max-width:400px;display:flex;justify-content:center}  .mat-form-field-appearance-outline .mat-form-field-outline,   .mat-form-field.mat-focused .mat-form-field-label{opacity:1!important}  .mat-focused .mat-form-field-underline .mat-form-field-ripple{background-color:#fff!important}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{opacity:.8!important}  .mat-form-field-label{opacity:.6!important}.imagen[_ngcontent-%COMP%]{text-align:center}.mat-title[_ngcontent-%COMP%]{font-size:2em;margin-top:.5em;margin-bottom:1em}p[_ngcontent-%COMP%]{margin-top:1.5em;text-align:center;color:#fff}.box[_ngcontent-%COMP%]{height:50vh;margin:0;padding:0;background-color:#068e8e}.footer[_ngcontent-%COMP%]{position:fixed;right:0;top:0;height:50vh;width:100%;background:#068e8e}"]}),t})()}];let b=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(e){return new(e||t)},imports:[[n.b.forChild(p)],n.b]}),t})();var h=o("NA4g");let v=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(e){return new(e||t)},imports:[[i.c,b,h.a,r.n]]}),t})()}}]);